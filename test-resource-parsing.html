<!DOCTYPE html>
<html>
<head>
    <title>èµ„æºè§£ææµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-case { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .original { background: #f0f0f0; padding: 10px; margin: 10px 0; }
        .parsed { background: #e8f5e8; padding: 10px; margin: 10px 0; }
        .failed { background: #ffe8e8; }
    </style>
</head>
<body>
    <h1>èµ„æºè§£æé€»è¾‘æµ‹è¯•</h1>
    
    <div id="results"></div>

    <script>
        // å¤åˆ¶ResourceTabsç»„ä»¶ä¸­çš„è§£æé€»è¾‘
        const parseResourceLine = (line) => {
            // æ ¼å¼1: - [æ ‡é¢˜](é“¾æ¥)
            let match = line.match(/^-\s*\[(.*?)\]\((.*?)\)$/)
            if (match) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ”—',
                    format: '- [æ ‡é¢˜](é“¾æ¥)'
                }
            }

            // æ ¼å¼2: [æ ‡é¢˜](é“¾æ¥)
            match = line.match(/^\[(.*?)\]\((.*?)\)$/)
            if (match) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ“',
                    format: '[æ ‡é¢˜](é“¾æ¥)'
                }
            }

            // æ ¼å¼3: ã€Œæ ‡é¢˜ã€é“¾æ¥ï¼šURL
            match = line.match(/^ã€Œ(.*?)ã€.*?é“¾æ¥[ï¼š:]\s*(https?:\/\/\S+)/)
            if (match) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ”—',
                    format: 'ã€Œæ ‡é¢˜ã€é“¾æ¥ï¼šURL'
                }
            }

            // æ ¼å¼4: æ•°å­— | æ ‡é¢˜ | URL
            match = line.match(/^\d+\s*\|\s*(.*?)\s*\|\s*(https?:\/\/\S+)$/)
            if (match) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ”¢',
                    format: 'æ•°å­— | æ ‡é¢˜ | URL'
                }
            }

            // æ ¼å¼5: æ ‡é¢˜ | URL (æ— æ•°å­—)
            match = line.match(/^(.*?)\s*\|\s*(https?:\/\/\S+)$/)
            if (match && !match[1].match(/^\d+$/)) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ“',
                    format: 'æ ‡é¢˜ | URL'
                }
            }

            // æ ¼å¼6: æ ‡é¢˜ é“¾æ¥ï¼šURL
            match = line.match(/^(.+?)\s+é“¾æ¥[ï¼š:]\s*(https?:\/\/\S+)/)
            if (match) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸ”—',
                    format: 'æ ‡é¢˜ é“¾æ¥ï¼šURL'
                }
            }

            // æ ¼å¼7: æ ‡é¢˜ https://...
            match = line.match(/^(.+?)\s+(https?:\/\/\S+)$/)
            if (match && match[1].length > 5) {
                return {
                    title: match[1].trim(),
                    url: match[2].trim(),
                    icon: 'ğŸŒ',
                    format: 'æ ‡é¢˜ https://...'
                }
            }

            // æ ¼å¼8: çº¯URLè¡Œ
            match = line.match(/^(https?:\/\/\S+)$/)
            if (match) {
                return {
                    title: 'ç‚¹å‡»è®¿é—®èµ„æº',
                    url: match[1].trim(),
                    icon: 'ğŸ”—',
                    format: 'çº¯URL'
                }
            }

            return null
        }

        // æµ‹è¯•ç”¨ä¾‹
        const testCases = [
            // å½“å‰æ–‡ä»¶ä¸­çš„æ ¼å¼
            '[DirectoryOpus-è¶…è¿‡100Tèµ„æ–™æ€»ç«™ç½‘ç«™-doc.869hr.uk](https://pan.quark.cn/s/0125148c9887)',
            '[office2024ç›´è£…æ¿€æ´»ç‰ˆï¼Œæ— éœ€æ¿€æ´»ã€ç›´è£…å³æ˜¯ä¸“ä¸šå¢å¼ºç‰ˆ-è¶…è¿‡100Tèµ„æ–™æ€»ç«™ç½‘ç«™-doc.869hr.uk](https://pan.quark.cn/s/ecda6d05fbfd)',
            
            // ä»å®é™…æ–‡ä»¶ä¸­çš„æ ¼å¼
            '- [AIç»˜ç”»è¿›é˜¶è¯¾ï¼šæ‰‹æŠŠæ‰‹è¯¦ç»†æ•™å­¦ï¼Œ30å ‚ä»å…¥é—¨åˆ°é«˜æ‰‹ï¼ŒæŒæ¡ä¸»æµAIç»˜ç”»æŠ€æ³•](https://pan.quark.cn/s/279d76d31f5d)',
            'ã€ŒTypora 2025ç»¿è‰²ç‰ˆã€é“¾æ¥ï¼šhttps://pan.quark.cn/s/1bd54834fa11',
            '- [2025å¹´å…¨çƒå…è´¹VPSç™½å«–æŒ‡å—ï¼ˆ16ä¸ªå…è´¹æœåŠ¡å™¨èµ„æºå¤§ç›˜ç‚¹ï¼‰](https://s.869hr.uk/r55)',
            '2 | ç½—ç¿”èè¯»ä¹¦å•ï¼ˆ50éƒ¨ï¼‰ | https://pan.quark.cn/s/78842141a8ca',
            
            // å®é™…é—®é¢˜æ ¼å¼
            'é“¾æ¥ï¼šhttps://pan.quark.cn/s/1b37e446b009',
            'https://pan.quark.cn/s/3b44afaa9cc7',
            'é“¾æ¥ï¼šhttps://pan.quark.cn/s/280211e789d6',
            'é“¾æ¥ï¼šhttps://pan.quark.cn/s/57d63abe8711',
            'é“¾æ¥ï¼šhttps://pan.quark.cn/s/72e3a08581dc',
            'é“¾æ¥ï¼šhttps://pan.quark.cn/s/7aaa3ce4e864',
            
            // æ ‡å‡†markdownæ ¼å¼
            '[å›¾çµç¼–ç¨‹ç”µå­ä¹¦åˆé›†ï½œ229æœ¬PDFä¸‹è½½ï¼ˆPython æœºå™¨å­¦ä¹  å…¨æ ˆå¼€å‘+æŠ€æœ¯æ•™ç¨‹ï¼‰](https://pan.quark.cn/s/e9bfa548c04f)',
            '[ç§äººçº¯éŸ³ä¹åˆé›†](https://pan.quark.cn/s/3f62aa12e867)',
            '[7å¤©æ¶¨ç²‰10Wè§£è¯´çˆ†æ¬¾è§†é¢‘è¯¾](https://pan.quark.cn/s/802cf3ce1a66)',
            
            // è¾¹ç•Œæƒ…å†µæµ‹è¯•
            'https://pan.quark.cn/s/123456',
            'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯• https://pan.quark.cn/s/test123',
            '1 | æµ‹è¯•æ ‡é¢˜ | https://test.com',
            'æµ‹è¯•æ ‡é¢˜ | https://test.com',
            'ã€Œæµ‹è¯•ã€é“¾æ¥ï¼šhttps://test.com'
        ]

        // è¿è¡Œæµ‹è¯•
        const results = document.getElementById('results')
        
        testCases.forEach((testCase, index) => {
            const result = parseResourceLine(testCase)
            const div = document.createElement('div')
            div.className = 'test-case'
            
            if (result) {
                div.className += ' parsed'
                div.innerHTML = `
                    <strong>æµ‹è¯• ${index + 1}: âœ… æˆåŠŸè§£æ</strong>
                    <div class="original"><strong>åŸæ–‡:</strong> ${testCase}</div>
                    <div class="parsed">
                        <strong>è§£æç»“æœ:</strong><br>
                        ğŸ·ï¸ æ ¼å¼: ${result.format}<br>
                        ${result.icon} æ ‡é¢˜: ${result.title}<br>
                        ğŸ”— é“¾æ¥: ${result.url}
                    </div>
                `
            } else {
                div.className += ' failed'
                div.innerHTML = `
                    <strong>æµ‹è¯• ${index + 1}: âŒ è§£æå¤±è´¥</strong>
                    <div class="original"><strong>åŸæ–‡:</strong> ${testCase}</div>
                    <div class="failed">æœªèƒ½è¯†åˆ«ä¸ºèµ„æºæ ¼å¼</div>
                `
            }
            
            results.appendChild(div)
        })
    </script>
</body>
</html>
